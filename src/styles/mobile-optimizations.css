/* 모바일 전용 최적화 스타일 - globals.css에 추가될 내용 */

/* 모바일 Safe Area 개선 */
@supports (padding: max(0px)) {
  .safe-area-inset {
    padding-top: max(1rem, env(safe-area-inset-top));
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* iOS Safari 100vh 문제 해결 */
@supports (-webkit-appearance: none) {
  .mobile-screen {
    min-height: -webkit-fill-available;
  }
}

/* 모바일 스크롤 성능 최적화 */
@media (max-width: 768px) {
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    overscroll-behavior: contain;
  }
  
  /* 모바일 터치 타겟 최적화 */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* 모바일 입력 필드 확대 방지 */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  textarea {
    font-size: 16px;
  }
  
  /* 모바일 sticky 요소 최적화 */
  .mobile-sticky {
    position: -webkit-sticky;
    position: sticky;
  }
}

/* PWA 전체화면 모드 최적화 */
@media (display-mode: standalone) {
  .pwa-content {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* 터치 디바이스 최적화 */
@media (hover: none) and (pointer: coarse) {
  /* 터치 디바이스에서 hover 효과 제거 */
  .hover\:bg-accent:hover {
    background-color: initial;
  }
  
  .hover\:opacity-80:hover {
    opacity: 1;
  }
  
  /* 터치 피드백 강화 */
  .touch-feedback:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }
}

/* 다크모드 모바일 최적화 */
@media (max-width: 768px) {
  .dark .glass {
    background: rgba(30, 41, 59, 0.95);
    backdrop-filter: blur(20px);
  }
  
  .dark .glass-strong {
    background: rgba(30, 41, 59, 0.98);
    backdrop-filter: blur(24px);
  }
}

/* 모바일 애니메이션 최적화 */
@media (prefers-reduced-motion: reduce) {
  .animate-slide-up,
  .animate-fade-in,
  .animate-slide-in {
    animation: none;
  }
  
  .active\:scale-\[0\.98\]:active,
  .active\:scale-\[0\.95\]:active {
    transform: none;
  }
}

/* 모바일 키보드 대응 */
@media (max-width: 768px) {
  .keyboard-adjust {
    /* iOS Safari 키보드 높이 조정 */
    padding-bottom: env(keyboard-inset-height, 0px);
  }
  
  /* Android Chrome 키보드 대응 */
  .viewport-fit-cover {
    viewport-fit: cover;
  }
}

/* 모바일 성능 최적화 */
@media (max-width: 768px) {
  /* GPU 가속 활성화 */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }
  
  /* 레이어 분리 최적화 */
  .mobile-layer {
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
  }
}